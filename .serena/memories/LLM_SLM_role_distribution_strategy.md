# LLM-SLMハイブリッドシステム 役割分担戦略

## 基本方針
**「SLMでコード生成、ClaudeCodeで判断・小修正・最適化」**

## 役割分担マトリックス

### 🤖 SLM（DeepSeek-Coder）の担当範囲
- **主要コード生成:** 新しい関数、クラス、メソッドの実装
- **基本構造作成:** アプリケーションの骨格構造
- **ロジック実装:** アルゴリズム、計算処理、データ処理
- **定型的コード:** CRUD操作、基本的なGUIコンポーネント
- **テンプレート実装:** 命令書に基づく標準的な実装

### 🧠 Claude Code（LLM）の担当範囲
- **戦略的判断:** アーキテクチャ決定、技術選択
- **小修正:** バグ修正、エラーハンドリング改善
- **最適化:** パフォーマンス改善、コード品質向上
- **統合作業:** モジュール間の結合、システム連携
- **レビュー・改良:** SLM生成コードの品質チェック
- **ユーザビリティ向上:** UI/UX改善、エラーメッセージ改良
- **ドキュメント作成:** README、コメント、説明書

## 具体的な作業分担例

### コード生成フェーズ
1. **Claude Code:** 要件分析 → 命令書作成
2. **SLM:** 命令書に基づくコード生成（メイン実装）
3. **Claude Code:** 生成コードのレビュー → 必要に応じて小修正

### エラー対応フェーズ
1. **Claude Code:** エラー分析・診断
2. **SLM:** 大幅な修正が必要な場合の再生成
3. **Claude Code:** 小修正・調整で対応可能な場合の直接修正

### 最適化フェーズ
1. **Claude Code:** パフォーマンス分析・改善点特定
2. **SLM:** 大規模なリファクタリングが必要な場合
3. **Claude Code:** 部分的な最適化・調整

## 判断基準

### SLMに依頼する場合
- **新機能の実装:** 50行以上の新しいコード
- **大幅な構造変更:** クラス・モジュール全体の再設計
- **複雑なロジック:** アルゴリズム実装、データ処理
- **定型的な実装:** CRUD、フォーム処理、API呼び出し

### Claude Codeが直接対応する場合
- **小修正:** 10行以下の変更
- **エラー修正:** 構文エラー、import修正、型修正
- **設定調整:** パラメータ変更、設定値調整
- **コメント・ドキュメント:** 説明追加、README更新
- **UI調整:** 色、サイズ、レイアウトの微調整

## ワークフロー最適化

### 効率的な協調パターン
1. **並行作業:** Claude Codeが要件整理中にSLMが基本構造生成
2. **段階的改良:** SLM基本実装 → Claude Code品質向上 → 反復
3. **専門分業:** SLMロジック実装 + Claude CodeUI/UX改善

### 時間節約戦略
- **事前準備:** テンプレート、チェックリストの活用
- **バッチ処理:** 複数の小修正をまとめて実行
- **再利用:** 成功パターンのテンプレート化
- **自動化:** 定型作業のスクリプト化

## 品質管理戦略

### SLM生成コードの品質チェックポイント
1. **構文正確性:** エラーなく動作するか
2. **要件適合性:** 命令書の要求を満たしているか
3. **コード品質:** PEP8準拠、可読性
4. **セキュリティ:** 安全なコーディングパターン
5. **パフォーマンス:** 効率的な実装

### Claude Code改良の優先順位
1. **動作保証:** まず動くことを確認
2. **エラーハンドリング:** 適切な例外処理
3. **ユーザビリティ:** 使いやすさの向上
4. **パフォーマンス:** 速度・メモリ最適化
5. **保守性:** 将来の変更に対する対応力

## 成功指標
- **開発時間短縮:** 従来比50%以上の時間短縮
- **コード品質:** 動作する実装の初回生成率80%以上
- **Claude Code作業時間:** 主に判断・調整作業に集中
- **システム安定性:** エラー発生率の継続的改善